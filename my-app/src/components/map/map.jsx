/** @jsxImportSource @emotion/react */
import { css } from "@emotion/react";
import React, { useEffect } from "react";
import {
  MapWrapper,
  ContentWrapper,
  Point1,
  Point2,
  Point3,
  Point4,
  Point5,
  Point6,
  Point7,
  Path,
  Content,
  Icon,
  Address,
  SmallWrapper,
  Phone,
  Site,
} from "./map.styled";

import Bg5 from "../../assets/bg5.png";
import Bg6 from "../../assets/bg5.png";

export default function Map(props) {
  const [activePoint, setActivePoint] = React.useState(props.data[0].id);
  const [activeContent, setActiveContent] = React.useState(filter());
  const handlePoint1 = () => {
    setActivePoint(props.data[0].id);
  };
  const handlePoint2 = () => {
    setActivePoint(props.data[1].id);
  };
  const handlePoint3 = () => {
    setActivePoint(props.data[2].id);
  };
  const handlePoint4 = () => {
    setActivePoint(props.data[3].id);
  };
  const handlePoint5 = () => {
    setActivePoint(props.data[4].id);
  };
  const handlePoint6 = () => {
    setActivePoint(props.data[5].id);
  };
  const handlePoint7 = () => {
    setActivePoint(props.data[6].id);
  };

  useEffect(() => {
    setActiveContent(filter());
  }, [activePoint]);

  function filter() {
    const data = props.data.filter((item) => {
      return item.id === activePoint;
    });
    return data;
  }

  return (
    <MapWrapper
      css={
        props === "tab1"
          ? css`
              background-image: url(${Bg5});
            `
          : css`
              background-image: url(${Bg6});
            `
      }
    >
      <Point1 onClick={handlePoint1}>
        <svg
          width="38"
          height="47"
          viewBox="0 0 38 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <Path
            className={activePoint === props.data[0].id ? "active" : ""}
            d="M0.596993 18.0672C0.536945 15.7805 0.974471 13.506 1.88386 11.3773C2.79325 9.2486 4.15614 7.30878 5.89229 5.67201C7.62844 4.03524 9.70275 2.73458 11.9933 1.84653C14.2838 0.958475 16.7442 0.500977 19.2297 0.500977C21.7152 0.500977 24.1756 0.958475 26.4661 1.84653C28.7566 2.73458 30.8309 4.03524 32.5671 5.67201C34.3032 7.30878 35.6661 9.2486 36.5755 11.3773C37.4849 13.506 37.9224 15.7805 37.8624 18.0672C37.8624 29.4917 19.2242 46.6435 19.2242 46.6435C19.2242 46.6435 0.596993 29.4917 0.596993 18.0672ZM11.4774 18.0672C11.4774 19.4815 11.9333 20.8641 12.7874 22.04C13.6415 23.2159 14.8554 24.1322 16.2756 24.673C17.6957 25.2138 19.2583 25.3548 20.7656 25.0782C22.2729 24.8015 23.657 24.1196 24.7431 23.1188C25.8291 22.118 26.5682 20.8432 26.8667 19.4557C27.1652 18.0683 27.0098 16.6305 26.4202 15.3244C25.8305 14.0182 24.8331 12.9024 23.5541 12.118C22.2751 11.3337 20.7721 10.9161 19.2351 10.9181C18.2145 10.9167 17.2037 11.1008 16.2606 11.4596C15.3174 11.8184 14.4604 12.3449 13.7387 13.0091C13.0171 13.6732 12.4448 14.4618 12.0549 15.3298C11.665 16.1977 11.4651 17.128 11.4665 18.0672H11.4774Z"
            fill="#343638"
          />
        </svg>
      </Point1>
      <Point2 onClick={handlePoint2}>
        <svg
          width="38"
          height="47"
          viewBox="0 0 38 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <Path
            className={activePoint === props.data[1].id ? "active" : ""}
            d="M0.596993 18.0672C0.536945 15.7805 0.974471 13.506 1.88386 11.3773C2.79325 9.2486 4.15614 7.30878 5.89229 5.67201C7.62844 4.03524 9.70275 2.73458 11.9933 1.84653C14.2838 0.958475 16.7442 0.500977 19.2297 0.500977C21.7152 0.500977 24.1756 0.958475 26.4661 1.84653C28.7566 2.73458 30.8309 4.03524 32.5671 5.67201C34.3032 7.30878 35.6661 9.2486 36.5755 11.3773C37.4849 13.506 37.9224 15.7805 37.8624 18.0672C37.8624 29.4917 19.2242 46.6435 19.2242 46.6435C19.2242 46.6435 0.596993 29.4917 0.596993 18.0672ZM11.4774 18.0672C11.4774 19.4815 11.9333 20.8641 12.7874 22.04C13.6415 23.2159 14.8554 24.1322 16.2756 24.673C17.6957 25.2138 19.2583 25.3548 20.7656 25.0782C22.2729 24.8015 23.657 24.1196 24.7431 23.1188C25.8291 22.118 26.5682 20.8432 26.8667 19.4557C27.1652 18.0683 27.0098 16.6305 26.4202 15.3244C25.8305 14.0182 24.8331 12.9024 23.5541 12.118C22.2751 11.3337 20.7721 10.9161 19.2351 10.9181C18.2145 10.9167 17.2037 11.1008 16.2606 11.4596C15.3174 11.8184 14.4604 12.3449 13.7387 13.0091C13.0171 13.6732 12.4448 14.4618 12.0549 15.3298C11.665 16.1977 11.4651 17.128 11.4665 18.0672H11.4774Z"
            fill="#343638"
          />
        </svg>
      </Point2>
      <Point3 onClick={handlePoint3}>
        <svg
          width="38"
          height="47"
          viewBox="0 0 38 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <Path
            className={activePoint === props.data[2].id ? "active" : ""}
            d="M0.596993 18.0672C0.536945 15.7805 0.974471 13.506 1.88386 11.3773C2.79325 9.2486 4.15614 7.30878 5.89229 5.67201C7.62844 4.03524 9.70275 2.73458 11.9933 1.84653C14.2838 0.958475 16.7442 0.500977 19.2297 0.500977C21.7152 0.500977 24.1756 0.958475 26.4661 1.84653C28.7566 2.73458 30.8309 4.03524 32.5671 5.67201C34.3032 7.30878 35.6661 9.2486 36.5755 11.3773C37.4849 13.506 37.9224 15.7805 37.8624 18.0672C37.8624 29.4917 19.2242 46.6435 19.2242 46.6435C19.2242 46.6435 0.596993 29.4917 0.596993 18.0672ZM11.4774 18.0672C11.4774 19.4815 11.9333 20.8641 12.7874 22.04C13.6415 23.2159 14.8554 24.1322 16.2756 24.673C17.6957 25.2138 19.2583 25.3548 20.7656 25.0782C22.2729 24.8015 23.657 24.1196 24.7431 23.1188C25.8291 22.118 26.5682 20.8432 26.8667 19.4557C27.1652 18.0683 27.0098 16.6305 26.4202 15.3244C25.8305 14.0182 24.8331 12.9024 23.5541 12.118C22.2751 11.3337 20.7721 10.9161 19.2351 10.9181C18.2145 10.9167 17.2037 11.1008 16.2606 11.4596C15.3174 11.8184 14.4604 12.3449 13.7387 13.0091C13.0171 13.6732 12.4448 14.4618 12.0549 15.3298C11.665 16.1977 11.4651 17.128 11.4665 18.0672H11.4774Z"
            fill="#343638"
          />
        </svg>
      </Point3>
      <Point4 onClick={handlePoint4}>
        <svg
          width="38"
          height="47"
          viewBox="0 0 38 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <Path
            className={activePoint === props.data[3].id ? "active" : ""}
            d="M0.596993 18.0672C0.536945 15.7805 0.974471 13.506 1.88386 11.3773C2.79325 9.2486 4.15614 7.30878 5.89229 5.67201C7.62844 4.03524 9.70275 2.73458 11.9933 1.84653C14.2838 0.958475 16.7442 0.500977 19.2297 0.500977C21.7152 0.500977 24.1756 0.958475 26.4661 1.84653C28.7566 2.73458 30.8309 4.03524 32.5671 5.67201C34.3032 7.30878 35.6661 9.2486 36.5755 11.3773C37.4849 13.506 37.9224 15.7805 37.8624 18.0672C37.8624 29.4917 19.2242 46.6435 19.2242 46.6435C19.2242 46.6435 0.596993 29.4917 0.596993 18.0672ZM11.4774 18.0672C11.4774 19.4815 11.9333 20.8641 12.7874 22.04C13.6415 23.2159 14.8554 24.1322 16.2756 24.673C17.6957 25.2138 19.2583 25.3548 20.7656 25.0782C22.2729 24.8015 23.657 24.1196 24.7431 23.1188C25.8291 22.118 26.5682 20.8432 26.8667 19.4557C27.1652 18.0683 27.0098 16.6305 26.4202 15.3244C25.8305 14.0182 24.8331 12.9024 23.5541 12.118C22.2751 11.3337 20.7721 10.9161 19.2351 10.9181C18.2145 10.9167 17.2037 11.1008 16.2606 11.4596C15.3174 11.8184 14.4604 12.3449 13.7387 13.0091C13.0171 13.6732 12.4448 14.4618 12.0549 15.3298C11.665 16.1977 11.4651 17.128 11.4665 18.0672H11.4774Z"
            fill="#343638"
          />
        </svg>
      </Point4>
      <Point5 onClick={handlePoint5}>
        <svg
          width="38"
          height="47"
          viewBox="0 0 38 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <Path
            className={activePoint === props.data[4].id ? "active" : ""}
            d="M0.596993 18.0672C0.536945 15.7805 0.974471 13.506 1.88386 11.3773C2.79325 9.2486 4.15614 7.30878 5.89229 5.67201C7.62844 4.03524 9.70275 2.73458 11.9933 1.84653C14.2838 0.958475 16.7442 0.500977 19.2297 0.500977C21.7152 0.500977 24.1756 0.958475 26.4661 1.84653C28.7566 2.73458 30.8309 4.03524 32.5671 5.67201C34.3032 7.30878 35.6661 9.2486 36.5755 11.3773C37.4849 13.506 37.9224 15.7805 37.8624 18.0672C37.8624 29.4917 19.2242 46.6435 19.2242 46.6435C19.2242 46.6435 0.596993 29.4917 0.596993 18.0672ZM11.4774 18.0672C11.4774 19.4815 11.9333 20.8641 12.7874 22.04C13.6415 23.2159 14.8554 24.1322 16.2756 24.673C17.6957 25.2138 19.2583 25.3548 20.7656 25.0782C22.2729 24.8015 23.657 24.1196 24.7431 23.1188C25.8291 22.118 26.5682 20.8432 26.8667 19.4557C27.1652 18.0683 27.0098 16.6305 26.4202 15.3244C25.8305 14.0182 24.8331 12.9024 23.5541 12.118C22.2751 11.3337 20.7721 10.9161 19.2351 10.9181C18.2145 10.9167 17.2037 11.1008 16.2606 11.4596C15.3174 11.8184 14.4604 12.3449 13.7387 13.0091C13.0171 13.6732 12.4448 14.4618 12.0549 15.3298C11.665 16.1977 11.4651 17.128 11.4665 18.0672H11.4774Z"
            fill="#343638"
          />
        </svg>
      </Point5>
      <Point6 onClick={handlePoint6}>
        <svg
          width="38"
          height="47"
          viewBox="0 0 38 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <Path
            className={activePoint === props.data[5].id ? "active" : ""}
            d="M0.596993 18.0672C0.536945 15.7805 0.974471 13.506 1.88386 11.3773C2.79325 9.2486 4.15614 7.30878 5.89229 5.67201C7.62844 4.03524 9.70275 2.73458 11.9933 1.84653C14.2838 0.958475 16.7442 0.500977 19.2297 0.500977C21.7152 0.500977 24.1756 0.958475 26.4661 1.84653C28.7566 2.73458 30.8309 4.03524 32.5671 5.67201C34.3032 7.30878 35.6661 9.2486 36.5755 11.3773C37.4849 13.506 37.9224 15.7805 37.8624 18.0672C37.8624 29.4917 19.2242 46.6435 19.2242 46.6435C19.2242 46.6435 0.596993 29.4917 0.596993 18.0672ZM11.4774 18.0672C11.4774 19.4815 11.9333 20.8641 12.7874 22.04C13.6415 23.2159 14.8554 24.1322 16.2756 24.673C17.6957 25.2138 19.2583 25.3548 20.7656 25.0782C22.2729 24.8015 23.657 24.1196 24.7431 23.1188C25.8291 22.118 26.5682 20.8432 26.8667 19.4557C27.1652 18.0683 27.0098 16.6305 26.4202 15.3244C25.8305 14.0182 24.8331 12.9024 23.5541 12.118C22.2751 11.3337 20.7721 10.9161 19.2351 10.9181C18.2145 10.9167 17.2037 11.1008 16.2606 11.4596C15.3174 11.8184 14.4604 12.3449 13.7387 13.0091C13.0171 13.6732 12.4448 14.4618 12.0549 15.3298C11.665 16.1977 11.4651 17.128 11.4665 18.0672H11.4774Z"
            fill="#343638"
          />
        </svg>
      </Point6>
      <Point7 onClick={handlePoint7}>
        <svg
          width="38"
          height="47"
          viewBox="0 0 38 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <Path
            className={activePoint === props.data[6].id ? "active" : ""}
            d="M0.596993 18.0672C0.536945 15.7805 0.974471 13.506 1.88386 11.3773C2.79325 9.2486 4.15614 7.30878 5.89229 5.67201C7.62844 4.03524 9.70275 2.73458 11.9933 1.84653C14.2838 0.958475 16.7442 0.500977 19.2297 0.500977C21.7152 0.500977 24.1756 0.958475 26.4661 1.84653C28.7566 2.73458 30.8309 4.03524 32.5671 5.67201C34.3032 7.30878 35.6661 9.2486 36.5755 11.3773C37.4849 13.506 37.9224 15.7805 37.8624 18.0672C37.8624 29.4917 19.2242 46.6435 19.2242 46.6435C19.2242 46.6435 0.596993 29.4917 0.596993 18.0672ZM11.4774 18.0672C11.4774 19.4815 11.9333 20.8641 12.7874 22.04C13.6415 23.2159 14.8554 24.1322 16.2756 24.673C17.6957 25.2138 19.2583 25.3548 20.7656 25.0782C22.2729 24.8015 23.657 24.1196 24.7431 23.1188C25.8291 22.118 26.5682 20.8432 26.8667 19.4557C27.1652 18.0683 27.0098 16.6305 26.4202 15.3244C25.8305 14.0182 24.8331 12.9024 23.5541 12.118C22.2751 11.3337 20.7721 10.9161 19.2351 10.9181C18.2145 10.9167 17.2037 11.1008 16.2606 11.4596C15.3174 11.8184 14.4604 12.3449 13.7387 13.0091C13.0171 13.6732 12.4448 14.4618 12.0549 15.3298C11.665 16.1977 11.4651 17.128 11.4665 18.0672H11.4774Z"
            fill="#343638"
          />
        </svg>
      </Point7>
      <ContentWrapper>
        <Content>
          <Icon src={activeContent[0].logo} />
          <Address>{activeContent[0].address}</Address>
          <SmallWrapper>
            <Phone>{activeContent[0].phone}</Phone>
            <Site>{activeContent[0].site}</Site>
          </SmallWrapper>
        </Content>
      </ContentWrapper>
    </MapWrapper>
  );
}
